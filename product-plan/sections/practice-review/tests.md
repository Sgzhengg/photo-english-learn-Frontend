# Test Instructions: Practice & Review (练习和复习)

这些测试说明**与框架无关**。

## 概述

练习和复习功能提供多种练习类型和间隔重复算法，帮助用户巩固生词记忆。

---

## 用户流程测试

### 流程 1: 开始每日练习

**场景:** 用户完成每日练习任务

#### 成功路径

**步骤:**
1. 用户点击底部导航"练习"图标
2. 页面显示今日任务卡片
3. 卡片显示："今日需复习 15 个单词"
4. 用户点击"开始练习"按钮
5. 进入练习题目页面
6. 显示第1题（填空题）
7. 用户阅读题目和提示
8. 用户输入答案
9. 用户点击"提交"按钮
10. 显示反馈："正确！"
11. 1.5秒后自动跳转到下一题
12. 重复直到完成所有题目
13. 显示结果总结页面

**预期结果:**
- [ ] 进度条显示当前题号（如：3/15）
- [ ] 每题提交后显示即时反馈
- [ ] 正确答案显示绿色，错误答案显示红色
- [ ] 错误的单词加入错题复习队列
- [ ] 结果总结显示得分、正确率、用时

#### 跳过题目

**步骤:**
1. 用户在答题页面点击"跳过"按钮

**预期结果:**
- [ ] 题目标记为"已跳过"
- [ ] 跳转到下一题
- [ ] 跳过的题目稍后可以复习

---

### 流程 2: 不同题型练习

#### 填空题

**步骤:**
1. 题目显示："The ___ was beautiful."（提示：serendipity）
2. 用户在输入框输入 `serendipity`
3. 点击"提交"

**预期结果:**
- [ ] 答案匹配验证（不区分大小写）
- [ ] 正确显示绿色提示，错误显示红色并给出正确答案

#### 选择题

**步骤:**
1. 题目显示中文释义："意外发现珍奇事物的本领"
2. 显示4个英文选项
3. 用户点击正确选项
4. 点击"提交"

**预期结果:**
- [ ] 选中的选项高亮
- [ ] 提交后显示正确/错误
- [ ] 错误时高亮正确答案

#### 听写题

**步骤:**
1. 题目显示音标："/ˌserənˈdɪpəti/"
2. 用户点击"播放音频"按钮
3. TTS朗读单词
4. 用户在输入框输入听到的单词
5. 点击"提交"

**预期结果:**
- [ ] 音频播放正常
- [ ] 可以重复播放
- [ ] 验证拼写正确性

---

### 流程 3: 错题复习

**场景:** 用户复习练习中答错的题目

**步骤:**
1. 用户在结果页面点击"复习错题"
2. 显示所有错题列表
3. 用户点击某个错题
4. 重新答题

**预期结果:**
- [ ] 显示所有错题（答错的单词）
- [ ] 可以重新答题
- [ ] 答对后从错题列表移除
- [ ] 全部答对后显示"全部掌握"消息

---

### 流程 4: 查看复习日程

**场景:** 用户查看未来的复习安排

**步骤:**
1. 用户点击"复习日程"标签
2. 显示日历视图或时间线
3. 显示每个单词的下次复习时间

**预期结果:**
- [ ] 显示复习时间轴
- [ ] 显示今日需复习的单词数量
- [ ] 显示未来7天的复习计划
- [ ] 不同掌握程度的单词用不同颜色标识

---

## 空状态测试

### 无今日任务

**场景:** 用户今天没有需要复习的单词

**预期结果:**
- [ ] 显示消息："今天没有需要复习的单词"
- [ ] 显示鼓励文字："继续保持！"
- [ ] 提供"学习新单词"按钮（跳转到拍照）

### 无错题记录

**场景:** 用户所有练习都正确，没有错题

**预期结果:**
- [ ] 显示"太棒了！全部正确"
- [ ] 显示奖杯或庆祝动画
- [ ] 提供"继续学习"按钮

---

## 组件交互测试

### DailyTaskHome

**渲染正确:**
- [ ] 显示今日任务卡片
- [ ] 显示需复习单词数量
- [ ] 显示练习类型选择
- [ ] 显示"开始练习"按钮
- [ ] 显示复习日程入口
- [ ] 显示进度统计

**用户交互:**
- [ ] 点击"开始练习"进入练习流程
- [ ] 选择练习类型（填空/选择/听写）
- [ ] 点击"复习日程"查看计划
- [ ] 点击"错题复习"复习错误

---

### PracticeQuestionView

**渲染正确:**
- [ ] 显示题目编号和进度条
- [ ] 显示题目类型图标
- [ ] 显示题目内容和提示
- [ ] 显示答题区域（根据题型）
- [ ] 显示"跳过"和"提交"按钮

**用户交互:**
- [ ] 输入答案时更新本地状态
- [ ] 点击"提交"验证答案
- [ ] 按Enter键快速提交
- [ ] 点击"跳过"跳过当前题

**反馈显示:**
- [ ] 正确答案显示绿色提示
- [ ] 错误答案显示红色提示和正确答案
- [ ] 反馈显示1.5秒后自动跳转

---

### PracticeResultSummary

**渲染正确:**
- [ ] 显示总分（如：85分）
- [ ] 显示正确率（如：85%）
- [ ] 显示用时（如：3分20秒）
- [ ] 显示错题列表
- [ ] 显示"再练一次"和"完成"按钮

**用户交互:**
- [ ] 点击"再练一次"重新开始
- [ ] 点击"错题复习"进入错题模式
- [ ] 点击"完成"返回主页

---

## 边界情况

- [ ] 处理网络错误（提交答案失败）
- [ ] 处理超时（用户长时间不答题）
- [ ] 处理非常长的答案输入
- [ ] 处理特殊字符和大小写
- [ ] 处理音频播放失败
- [ ] 从空到有数据：首次有练习任务
- [ ] 连续答错后的鼓励提示

---

## 示例测试数据

```typescript
const mockQuestion = {
  id: 'q-001',
  type: 'fill-blank',
  question: 'The ___ was a pleasant surprise.',
  hint: 'serendipity',
  options: [],
  correctAnswer: 'serendipity',
  phonetic: '/ˌserənˈdɪpəti/',
  audioUrl: 'https://example.com/audio.mp3'
};

const mockResult = {
  totalQuestions: 15,
  correctCount: 12,
  wrongCount: 3,
  skippedCount: 0,
  duration: 180, // 秒
  score: 80,
  wrongAnswers: ['word-001', 'word-002', 'word-003']
};
```

---

## 注意事项

- 测试每种题型的验证逻辑
- 验证进度计算的正确性
- 测试TTS音频的播放和中断
- 确保答案提交后有明确反馈
- 测试间隔重复算法的调度
